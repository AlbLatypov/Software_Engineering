# Лекторий по SRE: Примеры сбоев

## Примеры серьезных сбоев в мире

Дмитрий Масленников

Цель курса: формирование понимания студентами информационных систем, найм сотрудников.

### Сбои не только в IT

- Катастрофа шаттла Челенджер. Слишком низкая температура воздуха при запуске, при которой не проводились испытания. В IT могут быть ситуации, когда инженеры знают, но решение все равно принимается вопреки. Деталей не рассказал.
<br>
- Буровая установка deepwater horizon. Суть в проверке прочности бетона, не провели контрль прочности бетонирования. Рекомендует посмотреть фильм "Глубоководный горизонт"
<br>
- Авария на Чернобыльской АЭС. Разработчики знали о проблеме, но не доведена до эксплуатации. 

**Суть в том, что не соблюдение техники безопасности часто не приводит к последствиям, но в случай Ч, когда это происходит - человек, система не готова и может приводить к потерям различного рода.**

### Сбои в IT

- 11.12.2020 года - __мобильный банк на Андроид Tinkoff__. Была произведена перенастройка приложения. В процессе была совершена ошибка, не были добавлены обязательные поля. Не отображались счета, пострадало около 300к пользователей. Сначало думали не в том направлении. В итоге JSON не валидировался. Внесли исправление, но приложение кэшировалось на сутки в смартфонах и оперативно устранить не получалось.
    - редактор
    - валидация

Корневая причина: непонятно, некое несовершенство мира, факторов

- __Система аналитки Sage__ Выложили за 2 месяца до сбоя новую фичу, и эта фича была не сильно востребована в этот период. В целом еще один разбор аварии.

Ожидаю вывода по сбоям...

1. Проблема может проявиться сильно после релиза
2. Если пользователям доступен язык запросов, то тестировать становится намного сложнее.
3. Несколько проблем могут закрывать друг друга, усложняя поиск причин.
4. Асимптоматика важно в неожиданных местах.

- __Каскадный сбой от маленькой утилиты__ Filebeat используется для загрузки логов. Читает файлы, может обработать и записать туда, куда надо. В феврале 2021 года на одной из нод файлбит стал выжирать 100$% CPU и стал конкурировать за ресурсы с основным процессом и повлияло это на все смежные системы. Пошли ошибки входа в мобильное приложение. Операторов на всех не хватает и все СМИ в очередной раз написали... Сильно просели рейтинги в appstore и google play. 

Репутация теряется гораздо быстрее.

### Основные выводы:
- Вспомогательные приложения должны быть ограничены по максимальному использованию ресурсов.
- Внимательно продумывать работу приложений во время сбоев, особенно при повторных вызовах
- Необходим план действий во время масштабных сбоев, включая работу поддержки и PR.

Невозможно сделать так, чтобы сбоев небыло, потому что мы живем в реальном мире, где ломается все, люди ошибаются, предусмотреть все невозможно, но можно снизить частоту, масштабы.
